import{p as w,d as h,k as E,r as x,C,c as n,o,F as g,j as M,b as e,e as D,u as a,q as L,g as b,t as c,a as l,P as $,f as _,l as S,x as P,m as j,h as I,y as z}from"./app-BNiBKc41.js";import{_ as B}from"./AppLayout.vue_vue_type_script_setup_true_lang-Dyl4Ev4n.js";import{a as k}from"./createLucideIcon-CfVulcgf.js";import{E as N,_ as T}from"./_plugin-vue_export-helper-am-yV2F9.js";import{_ as V}from"./Toast.vue_vue_type_script_setup_true_lang-COA7Auxx.js";import"./index-EVxP4ufw.js";import"./AppLogoIcon.vue_vue_type_script_setup_true_lang-BWqzwTiU.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=k("CirclePlusIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=k("PencilIcon",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),F=w.create({baseURL:"http://127.0.0.1:8000"}),H={class:"bg-white dark:bg-gray-800 p-6 rounded-lg max-w-md w-full mx-4"},q={class:"flex justify-end gap-3"},R=["disabled"],U={key:0},G={key:1},J={class:"relative w-full h-full"},K={class:"relative z-10 p-4"},O={class:"space-y-4"},Q={class:"font-semibold"},X={class:"text-sm text-gray-600 dark:text-gray-400"},Y=["innerHTML"],Z={class:"flex gap-2 mt-4"},ee=["onClick"],se=h({__name:"WorkExperiencesList",props:{workExperiences:{}},setup(v,{expose:m}){E(()=>`pattern-${Math.random().toString(36).substring(2,9)}`);const d=x(!1),p=x(null),t=C({}),i=u=>{p.value=u,d.value=!0},f=()=>{d.value=!1},y=()=>{t.delete(route("experiences.destroy",p.value),{preserveScroll:!0,preserveState:!1,onSuccess:()=>{f()}})};return m({openDeleteModal:i}),(u,s)=>(o(),n(g,null,[d.value?(o(),n("div",{key:0,class:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",onClick:D(f,["self"])},[e("div",H,[s[0]||(s[0]=e("h3",{class:"text-lg font-semibold mb-4"},"Confirmer la suppression",-1)),s[1]||(s[1]=e("p",{class:"mb-6"},"Êtes-vous sûr de vouloir supprimer cette expérience ?",-1)),e("div",q,[e("button",{onClick:f,class:"px-4 py-2 text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-700 rounded"}," Annuler "),e("button",{onClick:y,class:"px-4 py-2 bg-red-600 text-white text-sm font-medium rounded hover:bg-red-700",disabled:a(t).processing},[a(t).processing?(o(),n("span",U,"Suppression...")):(o(),n("span",G,"Confirmer"))],8,R)])])])):M("",!0),e("div",J,[e("div",K,[s[4]||(s[4]=e("h2",{class:"text-2xl font-bold mb-4"},"Expériences",-1)),e("ul",O,[(o(!0),n(g,null,L(u.workExperiences,r=>(o(),n("li",{key:r.id,class:"bg-white dark:bg-gray-800 p-4 rounded-lg shadow"},[e("h3",Q,[b(c(r.job)+" - "+c(r.company)+" ",1),e("small",null,c(r.location),1)]),e("p",X,"Du "+c(new Date(r.begin_at).toLocaleDateString())+" au "+c(new Date(r.end_at).toLocaleDateString()),1),e("p",{class:"mt-2",innerHTML:r.description},null,8,Y),e("div",Z,[l(a($),{href:u.route("experiences.edit",r.id),class:"flex items-center gap-2 px-3 py-2 text-sm bg-blue-100 dark:bg-blue-900/30 hover:bg-blue-200 dark:hover:bg-blue-900/50 rounded-lg transition"},{default:_(()=>[l(a(A),{class:"h-4 w-4"}),s[2]||(s[2]=b(" Modifier "))]),_:2},1032,["href"]),e("button",{onClick:de=>i(r.id),class:"flex items-center gap-2 px-3 py-2 text-sm bg-red-100 dark:bg-red-900/30 hover:bg-red-200 dark:hover:bg-red-900/50 rounded-lg transition"},[l(a(N),{class:"h-4 w-4"}),s[3]||(s[3]=b(" Supprimer "))],8,ee)])]))),128))])])])],64))}}),te=T(se,[["__scopeId","data-v-c70b8c9d"]]),re={class:"flex h-auto min-h-[50px] flex-col gap-4 rounded-xl p-4"},oe={class:"relative h-full rounded-xl border border-sidebar-border/70 dark:border-sidebar-border overflow-hidden"},ae=["href"],ne={class:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4"},le={class:"relative min-h-[100vh] flex-1 rounded-xl border border-sidebar-border/70 dark:border-sidebar-border md:min-h-min"},xe=h({__name:"WorkExperiences",props:{name:{}},setup(v){const m=[{title:"Expériences",href:"/dashboard/workExperiences"}],d=x([]);S(async()=>{try{const t=await F.get("/api/experiences/list");d.value=t.data}catch(t){console.error("Erreur lors de la récupération des messages:",t)}});const p=P();return(t,i)=>(o(),n(g,null,[l(V,{flash:a(p).props.flash},null,8,["flash"]),l(a(j),{title:"Expériences"}),l(B,{breadcrumbs:m},{default:_(()=>[e("div",re,[e("div",oe,[e("a",{href:t.route("experiences.create"),class:"flex items-center gap-x-3 rounded-lg px-3 py-2 text-sm font-medium hover:bg-accent"},[(o(),I(z(a(W)))),i[0]||(i[0]=e("span",null,"Ajouter",-1))],8,ae)])]),e("div",ne,[e("div",le,[l(te,{workExperiences:d.value},null,8,["workExperiences"])])])]),_:1})],64))}});export{xe as default};
